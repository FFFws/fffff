{"ast":null,"code":"import \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nvar _jsxFileName = \"D:\\\\\\u4E09\\u9636\\u6BB5\\\\\\u9EC4\\u9A8F\\u5EFA-23-\\u4E09\\u9636\\u6BB5\\\\\\u7532\\\\fffff\\\\admin\\\\src\\\\components\\\\Asider\\\\AsiderNav.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getNav } from './asiderFun';\nconst {\n  SubMenu\n} = _Menu;\n\nclass AsiderNav extends Component {\n  constructor() {\n    super();\n    this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n    this.state = {\n      openKeys: ['sub1']\n    };\n\n    this.onOpenChange = openKeys => {\n      const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.setState({\n          openKeys\n        });\n      } else {\n        this.setState({\n          openKeys: latestOpenKey ? [latestOpenKey] : []\n        });\n      }\n    };\n\n    this.state = {\n      navList: []\n    };\n  }\n\n  componentDidMount() {\n    let info = JSON.parse(localStorage.getItem('info'));\n    getNav(info).then(data => {\n      this.setState({\n        navList: data\n      });\n    });\n  }\n\n  renderNav(list) {\n    console.log(list);\n\n    if (!list.length) {\n      return '暂无数据';\n    }\n\n    return list.map((item, index) => {\n      if (!item.children) {\n        return React.createElement(_Menu.Item, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: item.path,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(_Icon, {\n          type: item.icon || 'home',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, item.name || '为加载出数据')));\n      } else {\n        return React.createElement(SubMenu, {\n          key: index,\n          title: React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(_Icon, {\n            type: item.icon || 'home',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, item.name)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, this.renderNav(item.children));\n      }\n    });\n  }\n\n  render() {\n    let {\n      navList\n    } = this.state;\n    return React.createElement(_Menu, {\n      mode: \"inline\",\n      theme: \"dark\",\n      openKeys: this.state.openKeys,\n      onOpenChange: this.onOpenChange,\n      style: {\n        overflow: 'auto',\n        height: '100vh',\n        position: 'fixed',\n        left: 0,\n        width: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.renderNav(navList));\n  }\n\n}\n\nexport default AsiderNav;","map":{"version":3,"sources":["D:/三阶段/黄骏建-23-三阶段/甲/fffff/admin/src/components/Asider/AsiderNav.js"],"names":["React","Component","Link","getNav","SubMenu","AsiderNav","constructor","rootSubmenuKeys","state","openKeys","onOpenChange","latestOpenKey","find","key","indexOf","setState","navList","componentDidMount","info","JSON","parse","localStorage","getItem","then","data","renderNav","list","console","log","length","map","item","index","children","path","icon","name","render","overflow","height","position","left","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Menu, Icon } from 'antd';\r\nimport { Link } from 'react-router-dom'\r\nimport { getNav } from './asiderFun'\r\nconst { SubMenu } = Menu;\r\nclass AsiderNav extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            navList: []\r\n        }\r\n    }\r\n    rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n    state = {\r\n        openKeys: ['sub1'],\r\n    };\r\n    onOpenChange = openKeys => {\r\n        const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n        if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n            this.setState({ openKeys });\r\n        } else {\r\n            this.setState({\r\n                openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n            });\r\n        }\r\n    };\r\n    componentDidMount() {\r\n        let info = JSON.parse(localStorage.getItem('info'))\r\n        getNav(info).then(data => {\r\n            this.setState({ navList: data })\r\n        })\r\n    }\r\n    renderNav(list) {\r\n        console.log(list)\r\n        if (!list.length) { return '暂无数据' }\r\n        return list.map((item, index) => {\r\n            if (!item.children) {\r\n                return (\r\n                    <Menu.Item key={index}>\r\n                        <Link to={item.path}>\r\n                            <Icon type={item.icon || 'home'}></Icon>\r\n                            <span>{item.name || '为加载出数据'}</span>\r\n                        </Link>\r\n                    </Menu.Item>\r\n                )\r\n            } else {\r\n                return (\r\n                    <SubMenu\r\n                        key={index}\r\n                        title={\r\n                            <span>\r\n                                <Icon type={item.icon || 'home'}></Icon>\r\n                                <span>{item.name}</span>\r\n                            </span>\r\n                        }\r\n\r\n                    >\r\n                        {this.renderNav(item.children)}\r\n                    </SubMenu>\r\n                )\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        let { navList } = this.state\r\n        return (\r\n            <Menu\r\n                mode=\"inline\"\r\n                theme='dark'\r\n                openKeys={this.state.openKeys}\r\n                onOpenChange={this.onOpenChange}\r\n                style={{\r\n                    overflow: 'auto',\r\n                    height: '100vh',\r\n                    position: 'fixed',\r\n                    left: 0,\r\n                    width: 200,\r\n                }}>\r\n                {this.renderNav(navList)}\r\n            </Menu>\r\n        );\r\n    }\r\n}\r\nexport default AsiderNav"]},"metadata":{},"sourceType":"module"}