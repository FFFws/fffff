{"ast":null,"code":"import axios from 'axios';\nimport { getStorage } from '../utils/storage';\naxios.interceptors.request.use(function (config) {\n  console.log(getStorage);\n\n  if (getStorage) {\n    config.headers['token'] = getStorage().token || ''; // config.token = getStorage().token\n  }\n\n  console.log('请求', config);\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(function (response) {\n  return response.data;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default axios;","map":{"version":3,"sources":["D:/三阶段/黄骏建-23-三阶段/甲/fffff/admin/src/utils/axios.js"],"names":["axios","getStorage","interceptors","request","use","config","console","log","headers","token","error","Promise","reject","response","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEAD,KAAK,CAACE,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AAC7CC,EAAAA,OAAO,CAACC,GAAR,CAAYN,UAAZ;;AACA,MAAIA,UAAJ,EAAgB;AACZI,IAAAA,MAAM,CAACG,OAAP,CAAe,OAAf,IAA0BP,UAAU,GAAGQ,KAAb,IAAsB,EAAhD,CADY,CAEZ;AACH;;AAEDH,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBF,MAAlB;AACA,SAAOA,MAAP;AACH,CATD,EASG,UAAUK,KAAV,EAAiB;AAChB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAXD;AAYAV,KAAK,CAACE,YAAN,CAAmBW,QAAnB,CAA4BT,GAA5B,CAAgC,UAAUS,QAAV,EAAoB;AAChD,SAAOA,QAAQ,CAACC,IAAhB;AACH,CAFD,EAEG,UAAUJ,KAAV,EAAiB;AAChB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAJD;AAMA,eAAeV,KAAf","sourcesContent":["import axios from 'axios'\r\nimport { getStorage } from '../utils/storage'\r\n\r\naxios.interceptors.request.use(function (config) {\r\n    console.log(getStorage)\r\n    if (getStorage) {\r\n        config.headers['token'] = getStorage().token || ''\r\n        // config.token = getStorage().token\r\n    }\r\n\r\n    console.log('请求', config)\r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\naxios.interceptors.response.use(function (response) {\r\n    return response.data;\r\n}, function (error) {\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default axios"]},"metadata":{},"sourceType":"module"}